# Generated by Django 5.2.7 on 2025-11-27 13:06

import django.contrib.gis.db.models.fields
import django.contrib.postgres.fields
import django.core.validators
import django.db.models.deletion
import farms.models
import phonenumber_field.modelfields
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):
    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="Batch",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "batch_name",
                    models.CharField(
                        help_text="E.g., '2025 Q1 Batch - Greater Accra', '2025 Northern Cohort'",
                        max_length=200,
                        unique=True,
                    ),
                ),
                (
                    "batch_code",
                    models.CharField(
                        help_text="E.g., 'YEA-2025-Q1-ACCRA', '2025-BATCH-01'",
                        max_length=50,
                        unique=True,
                    ),
                ),
                ("description", models.TextField()),
                (
                    "long_description",
                    models.TextField(
                        blank=True,
                        help_text="Detailed program description with objectives, implementation plan",
                    ),
                ),
                (
                    "implementing_agency",
                    models.CharField(
                        help_text="E.g., 'Youth Employment Agency'", max_length=200
                    ),
                ),
                ("start_date", models.DateField()),
                ("end_date", models.DateField()),
                (
                    "application_deadline",
                    models.DateField(
                        blank=True,
                        help_text="Last date to accept new applications",
                        null=True,
                    ),
                ),
                (
                    "early_application_deadline",
                    models.DateField(
                        blank=True,
                        help_text="Early application deadline for priority processing",
                        null=True,
                    ),
                ),
                (
                    "min_farm_age_months",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Minimum months farm must be operational (0 for new farms)",
                    ),
                ),
                (
                    "max_farm_age_years",
                    models.PositiveIntegerField(
                        blank=True,
                        help_text="Maximum farm age (e.g., only for new farms < 2 years)",
                        null=True,
                    ),
                ),
                (
                    "min_bird_capacity",
                    models.PositiveIntegerField(
                        blank=True,
                        help_text="Minimum bird capacity required",
                        null=True,
                    ),
                ),
                (
                    "max_bird_capacity",
                    models.PositiveIntegerField(
                        blank=True,
                        help_text="Maximum bird capacity (if targeting small-scale)",
                        null=True,
                    ),
                ),
                ("eligible_farmer_age_min", models.PositiveIntegerField(default=18)),
                ("eligible_farmer_age_max", models.PositiveIntegerField(default=65)),
                (
                    "eligible_constituencies",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=100),
                        blank=True,
                        default=list,
                        help_text="Leave empty for all constituencies",
                        size=None,
                    ),
                ),
                ("requires_extension_officer", models.BooleanField(default=True)),
                (
                    "eligibility_criteria",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="\n        Extended eligibility criteria:\n        {\n            'citizenship': 'Ghanaian',\n            'educational_level': 'Any',\n            'employment_status': ['Unemployed', 'Underemployed'],\n            'restrictions': ['No prior government support'],\n            'preferred_qualifications': ['Prior poultry experience']\n        }\n        ",
                    ),
                ),
                (
                    "support_package_details",
                    models.JSONField(
                        default=dict,
                        help_text="\n        What beneficiaries receive:\n        {\n            'day_old_chicks': 500,\n            'feed_bags_per_cycle': 100,\n            'training_sessions': 12,\n            'extension_visits_per_month': 2,\n            'monetary_grant': 5000.00,\n            'infrastructure_support': 'Cage construction',\n            'marketplace_subsidy_months': 12\n        }\n        ",
                    ),
                ),
                (
                    "support_package_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Total value of support package in GHS",
                        max_digits=12,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "beneficiary_contribution_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Amount beneficiary must contribute",
                        max_digits=12,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "document_requirements",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="\n        Required documents for application:\n        [\n            {'document_type': 'Ghana Card', 'is_mandatory': true, 'description': '...'},\n            {'document_type': 'Land proof', 'is_mandatory': true, 'description': '...'}\n        ]\n        ",
                    ),
                ),
                (
                    "batch_info",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="\n        Batch/cohort information:\n        {\n            'batch_code': '2025-Batch-01',\n            'cohort_number': 1,\n            'orientation_date': '2025-01-15',\n            'distribution_dates': ['2025-02-01', '2025-03-01']\n        }\n        ",
                    ),
                ),
                (
                    "regional_allocation",
                    models.JSONField(
                        blank=True,
                        default=list,
                        help_text="\n        Slot allocation by region:\n        [\n            {'region': 'Greater Accra', 'allocated_slots': 20},\n            {'region': 'Ashanti', 'allocated_slots': 15}\n        ]\n        ",
                    ),
                ),
                (
                    "total_slots",
                    models.PositiveIntegerField(
                        help_text="Total number of farmers program can support"
                    ),
                ),
                ("slots_filled", models.PositiveIntegerField(default=0)),
                (
                    "slots_available",
                    models.PositiveIntegerField(
                        editable=False, help_text="Auto-calculated"
                    ),
                ),
                (
                    "allow_overbooking",
                    models.BooleanField(
                        default=False, help_text="Allow applications beyond total_slots"
                    ),
                ),
                (
                    "overbooking_percentage",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Percentage overbooking allowed (e.g., 10 for 10%)",
                        max_digits=5,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "requires_constituency_approval",
                    models.BooleanField(
                        default=True, help_text="Applications need constituency review"
                    ),
                ),
                (
                    "requires_regional_approval",
                    models.BooleanField(
                        default=True, help_text="Applications need regional review"
                    ),
                ),
                (
                    "requires_national_approval",
                    models.BooleanField(
                        default=True, help_text="Applications need national review"
                    ),
                ),
                (
                    "approval_sla_days",
                    models.PositiveIntegerField(
                        default=30, help_text="Target days for application review"
                    ),
                ),
                (
                    "funding_source",
                    models.CharField(
                        blank=True,
                        help_text="E.g., 'Government of Ghana - YEA'",
                        max_length=200,
                    ),
                ),
                (
                    "budget_code",
                    models.CharField(
                        blank=True, help_text="E.g., 'YEA-2025-POULTRY'", max_length=100
                    ),
                ),
                (
                    "total_budget_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Total budget for program in GHS",
                        max_digits=15,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("active", "Active - Accepting Applications"),
                            ("full", "Full - Applications Closed"),
                            ("inactive", "Inactive/Ended"),
                        ],
                        db_index=True,
                        default="active",
                        max_length=20,
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        db_index=True,
                        default=False,
                        help_text="Program is active and visible",
                    ),
                ),
                (
                    "is_accepting_applications_override",
                    models.BooleanField(
                        default=True,
                        help_text="Manual override for accepting applications",
                    ),
                ),
                (
                    "is_published",
                    models.BooleanField(
                        default=False,
                        help_text="Program is published and visible to farmers",
                    ),
                ),
                (
                    "archived",
                    models.BooleanField(
                        db_index=True,
                        default=False,
                        help_text="Program is archived (soft delete)",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="programs_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "last_modified_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="programs_modified",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Batch",
                "verbose_name_plural": "Batches",
                "db_table": "farms_batch",
                "ordering": ["-start_date"],
            },
        ),
        migrations.CreateModel(
            name="BatchEnrollmentApplication",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "application_number",
                    models.CharField(
                        editable=False,
                        help_text="Format: PROG-YYYY-XXXXX",
                        max_length=25,
                        unique=True,
                    ),
                ),
                (
                    "motivation",
                    models.TextField(help_text="Why farmer wants to join this program"),
                ),
                (
                    "current_challenges",
                    models.TextField(help_text="Current challenges farmer faces"),
                ),
                (
                    "expected_benefits",
                    models.TextField(help_text="How program will help farmer"),
                ),
                (
                    "current_bird_count",
                    models.PositiveIntegerField(
                        help_text="Current number of birds on farm"
                    ),
                ),
                (
                    "current_production_type",
                    models.CharField(
                        choices=[
                            ("Layers", "Layers (Egg Production)"),
                            ("Broilers", "Broilers (Meat Production)"),
                            ("Both", "Both Layers and Broilers"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "monthly_revenue",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Average monthly revenue (optional)",
                        max_digits=12,
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "years_operational",
                    models.DecimalField(
                        decimal_places=1,
                        help_text="Years farm has been operational",
                        max_digits=4,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "farm_photos",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.URLField(),
                        blank=True,
                        default=list,
                        help_text="URLs to uploaded farm photos",
                        size=None,
                    ),
                ),
                (
                    "business_documents",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.URLField(),
                        blank=True,
                        default=list,
                        help_text="Business registration, permits, etc.",
                        size=None,
                    ),
                ),
                (
                    "eligibility_score",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Auto-calculated score (0-100)",
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "eligibility_flags",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=200),
                        blank=True,
                        default=list,
                        help_text="Issues flagged during eligibility check",
                        size=None,
                    ),
                ),
                (
                    "meets_eligibility",
                    models.BooleanField(
                        default=False,
                        help_text="Does farm meet program eligibility criteria?",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft - Not Submitted"),
                            ("submitted", "Submitted - Awaiting Assignment"),
                            ("eligibility_check", "Eligibility Check"),
                            ("constituency_review", "Under Constituency Review"),
                            ("regional_review", "Under Regional Review"),
                            ("national_review", "Under National Review"),
                            ("changes_requested", "Changes Requested"),
                            ("approved", "Approved - Enrollment in Progress"),
                            ("enrolled", "Enrolled - Farmer Active in Program"),
                            ("rejected", "Rejected"),
                            ("withdrawn", "Withdrawn by Farmer"),
                        ],
                        db_index=True,
                        default="draft",
                        max_length=30,
                    ),
                ),
                (
                    "current_review_level",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("eligibility", "Automated Eligibility Check"),
                            ("constituency", "Constituency Level"),
                            ("regional", "Regional Level"),
                            ("national", "National Level"),
                        ],
                        max_length=20,
                        null=True,
                    ),
                ),
                ("submitted_at", models.DateTimeField(blank=True, null=True)),
                (
                    "constituency_reviewed_at",
                    models.DateTimeField(blank=True, null=True),
                ),
                ("regional_reviewed_at", models.DateTimeField(blank=True, null=True)),
                ("national_reviewed_at", models.DateTimeField(blank=True, null=True)),
                ("final_decision_at", models.DateTimeField(blank=True, null=True)),
                ("approved", models.BooleanField(default=False)),
                (
                    "rejection_reason",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("ineligible_age", "Farmer age outside program range"),
                            (
                                "ineligible_capacity",
                                "Farm capacity outside program range",
                            ),
                            (
                                "ineligible_location",
                                "Farm not in eligible constituency",
                            ),
                            ("farm_too_new", "Farm not operational long enough"),
                            ("farm_too_old", "Farm too established for program"),
                            ("program_full", "Program slots filled"),
                            ("deadline_passed", "Application submitted after deadline"),
                            ("already_enrolled", "Already enrolled in similar program"),
                            ("documentation_incomplete", "Missing required documents"),
                            ("failed_verification", "Farm verification failed"),
                            ("other", "Other reason (see notes)"),
                        ],
                        max_length=50,
                    ),
                ),
                ("rejection_notes", models.TextField(blank=True)),
                (
                    "reviewer_notes",
                    models.TextField(
                        blank=True, help_text="Internal notes from reviewers"
                    ),
                ),
                (
                    "priority_score",
                    models.PositiveIntegerField(
                        default=0, help_text="Higher = more urgent"
                    ),
                ),
                ("enrollment_completed", models.BooleanField(default=False)),
                ("enrolled_at", models.DateTimeField(blank=True, null=True)),
                (
                    "support_package_allocated",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Actual support package farmer receives",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "applicant",
                    models.ForeignKey(
                        help_text="Farmer submitting application",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="batch_applications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_extension_officer",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="enrolled_farmers",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "batch",
                    models.ForeignKey(
                        help_text="YEA Poultry Batch/cohort farmer is applying to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="applications",
                        to="farms.batch",
                    ),
                ),
            ],
            options={
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="BatchEnrollmentQueue",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "review_level",
                    models.CharField(
                        choices=[
                            ("eligibility", "Eligibility Check"),
                            ("constituency", "Constituency"),
                            ("regional", "Regional"),
                            ("national", "National"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending Assignment"),
                            ("assigned", "Assigned to Officer"),
                            ("in_review", "Under Review"),
                            ("completed", "Completed"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                    ),
                ),
                ("assigned_at", models.DateTimeField(blank=True, null=True)),
                ("priority", models.PositiveIntegerField(default=0)),
                (
                    "sla_deadline",
                    models.DateTimeField(
                        help_text="When this review level should be completed"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("completed_at", models.DateTimeField(blank=True, null=True)),
                (
                    "application",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="queue_entries",
                        to="farms.batchenrollmentapplication",
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_batch_applications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "ordering": ["-priority", "sla_deadline"],
            },
        ),
        migrations.CreateModel(
            name="BatchEnrollmentReview",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "review_level",
                    models.CharField(
                        choices=[
                            ("eligibility", "Eligibility Check"),
                            ("constituency", "Constituency"),
                            ("regional", "Regional"),
                            ("national", "National"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "action",
                    models.CharField(
                        choices=[
                            ("submitted", "Application Submitted"),
                            ("eligibility_passed", "Passed Eligibility Check"),
                            ("eligibility_failed", "Failed Eligibility Check"),
                            ("assigned", "Assigned to Reviewer"),
                            ("claimed", "Claimed for Review"),
                            ("approved", "Approved at Level"),
                            ("rejected", "Rejected"),
                            ("changes_requested", "Changes Requested"),
                            ("withdrawn", "Withdrawn by Farmer"),
                            ("enrolled", "Enrollment Completed"),
                        ],
                        max_length=30,
                    ),
                ),
                ("notes", models.TextField(blank=True)),
                ("timestamp", models.DateTimeField(auto_now_add=True)),
                (
                    "application",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="reviews",
                        to="farms.batchenrollmentapplication",
                    ),
                ),
                (
                    "reviewer",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="program_reviews",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "ordering": ["-timestamp"],
            },
        ),
        migrations.CreateModel(
            name="Farm",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "application_id",
                    models.CharField(
                        editable=False,
                        help_text="Format: APP-YYYY-XXXXX",
                        max_length=20,
                        unique=True,
                    ),
                ),
                (
                    "farm_id",
                    models.CharField(
                        blank=True,
                        help_text="Format: YEA-REG-CONST-XXXX (assigned on approval)",
                        max_length=30,
                        null=True,
                        unique=True,
                    ),
                ),
                ("first_name", models.CharField(max_length=100)),
                ("middle_name", models.CharField(blank=True, max_length=100)),
                ("last_name", models.CharField(max_length=100)),
                (
                    "date_of_birth",
                    models.DateField(validators=[farms.models.validate_age_range]),
                ),
                (
                    "gender",
                    models.CharField(
                        choices=[
                            ("Male", "Male"),
                            ("Female", "Female"),
                            ("Other", "Other"),
                            ("Prefer not to say", "Prefer not to say"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "ghana_card_number",
                    models.CharField(
                        help_text="Format: GHA-XXXXXXXXX-X",
                        max_length=20,
                        unique=True,
                        validators=[farms.models.validate_ghana_card],
                    ),
                ),
                (
                    "marital_status",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("Single", "Single"),
                            ("Married", "Married"),
                            ("Divorced", "Divorced"),
                            ("Widowed", "Widowed"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "number_of_dependents",
                    models.PositiveIntegerField(
                        default=0,
                        validators=[django.core.validators.MaxValueValidator(50)],
                    ),
                ),
                (
                    "primary_phone",
                    phonenumber_field.modelfields.PhoneNumberField(
                        max_length=128, region="GH", unique=True
                    ),
                ),
                (
                    "alternate_phone",
                    phonenumber_field.modelfields.PhoneNumberField(
                        blank=True, max_length=128, region="GH"
                    ),
                ),
                ("email", models.EmailField(blank=True, max_length=254)),
                (
                    "preferred_contact_method",
                    models.CharField(
                        choices=[
                            ("Phone Call", "Phone Call"),
                            ("SMS", "SMS"),
                            ("WhatsApp", "WhatsApp"),
                            ("Email", "Email"),
                        ],
                        default="Phone Call",
                        max_length=20,
                    ),
                ),
                ("residential_address", models.TextField()),
                (
                    "primary_constituency",
                    models.CharField(
                        db_index=True,
                        help_text="Constituency where farm is located - REQUIRED for ALL farmers (government and independent)",
                        max_length=100,
                    ),
                ),
                (
                    "nok_full_name",
                    models.CharField(
                        max_length=200, verbose_name="Next of Kin Full Name"
                    ),
                ),
                (
                    "nok_relationship",
                    models.CharField(
                        max_length=100, verbose_name="Next of Kin Relationship"
                    ),
                ),
                (
                    "nok_phone",
                    phonenumber_field.modelfields.PhoneNumberField(
                        max_length=128, region="GH", verbose_name="Next of Kin Phone"
                    ),
                ),
                (
                    "nok_residential_address",
                    models.TextField(blank=True, verbose_name="Next of Kin Address"),
                ),
                (
                    "education_level",
                    models.CharField(
                        choices=[
                            ("No Formal Education", "No Formal Education"),
                            ("Primary", "Primary"),
                            ("JHS", "JHS"),
                            ("SHS/Technical", "SHS/Technical"),
                            ("Tertiary", "Tertiary"),
                            ("Postgraduate", "Postgraduate"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "literacy_level",
                    models.CharField(
                        choices=[
                            ("Cannot Read/Write", "Cannot Read/Write"),
                            ("Can Read Only", "Can Read Only"),
                            ("Can Read & Write", "Can Read & Write"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "years_in_poultry",
                    models.DecimalField(
                        decimal_places=1,
                        max_digits=4,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(50),
                        ],
                    ),
                ),
                (
                    "previous_training",
                    models.TextField(
                        blank=True, help_text="Previous poultry training received"
                    ),
                ),
                ("farming_full_time", models.BooleanField(default=False)),
                ("other_occupation", models.CharField(blank=True, max_length=200)),
                ("farm_name", models.CharField(max_length=200, unique=True)),
                (
                    "ownership_type",
                    models.CharField(
                        choices=[
                            ("Sole Proprietorship", "Sole Proprietorship"),
                            ("Partnership", "Partnership"),
                            ("Family Business", "Family Business"),
                            ("Cooperative", "Cooperative"),
                            ("Limited Company", "Limited Company"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "tin",
                    models.CharField(
                        help_text="Tax Identification Number (MANDATORY)",
                        max_length=11,
                        unique=True,
                        validators=[farms.models.validate_tin],
                    ),
                ),
                (
                    "business_registration_number",
                    models.CharField(
                        blank=True,
                        help_text="Strongly encouraged for procurement priority",
                        max_length=50,
                    ),
                ),
                ("business_registration_date", models.DateField(blank=True, null=True)),
                ("bank_name", models.CharField(blank=True, max_length=100)),
                ("account_number", models.CharField(blank=True, max_length=50)),
                ("account_name", models.CharField(blank=True, max_length=200)),
                (
                    "mobile_money_provider",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("MTN Mobile Money", "MTN Mobile Money"),
                            ("Vodafone Cash", "Vodafone Cash"),
                            ("AirtelTigo Money", "AirtelTigo Money"),
                            ("Telecel Cash", "Telecel Cash"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "mobile_money_number",
                    phonenumber_field.modelfields.PhoneNumberField(
                        blank=True, max_length=128, region="GH"
                    ),
                ),
                (
                    "paystack_subaccount_code",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="Paystack subaccount code for direct settlements",
                        max_length=100,
                        unique=True,
                    ),
                ),
                (
                    "paystack_subaccount_id",
                    models.CharField(
                        blank=True, help_text="Paystack subaccount ID", max_length=100
                    ),
                ),
                (
                    "paystack_settlement_account",
                    models.CharField(
                        blank=True,
                        help_text="Account number used for Paystack settlements",
                        max_length=50,
                    ),
                ),
                (
                    "subaccount_created_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When Paystack subaccount was created",
                        null=True,
                    ),
                ),
                (
                    "subaccount_active",
                    models.BooleanField(
                        default=False, help_text="Whether Paystack subaccount is active"
                    ),
                ),
                (
                    "number_of_poultry_houses",
                    models.PositiveIntegerField(
                        validators=[django.core.validators.MinValueValidator(1)]
                    ),
                ),
                (
                    "total_bird_capacity",
                    models.PositiveIntegerField(
                        validators=[django.core.validators.MinValueValidator(1)]
                    ),
                ),
                ("current_bird_count", models.PositiveIntegerField(default=0)),
                (
                    "housing_type",
                    models.CharField(
                        choices=[
                            ("Deep Litter", "Deep Litter"),
                            ("Battery Cage", "Battery Cage"),
                            ("Free Range", "Free Range"),
                            ("Semi-Intensive", "Semi-Intensive"),
                            ("Mixed", "Mixed"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "total_infrastructure_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Total value of infrastructure for ROI tracking",
                        max_digits=12,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "primary_production_type",
                    models.CharField(
                        choices=[
                            ("Layers", "Layers (Egg Production)"),
                            ("Broilers", "Broilers (Meat Production)"),
                            ("Both", "Both Layers and Broilers"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "layer_breed",
                    models.CharField(
                        blank=True,
                        help_text="Required if primary_production_type includes Layers",
                        max_length=100,
                    ),
                ),
                (
                    "planned_monthly_egg_production",
                    models.PositiveIntegerField(
                        blank=True, help_text="REQUIRED if Layers", null=True
                    ),
                ),
                (
                    "broiler_breed",
                    models.CharField(
                        blank=True,
                        help_text="Required if primary_production_type includes Broilers",
                        max_length=100,
                    ),
                ),
                (
                    "planned_monthly_bird_sales",
                    models.PositiveIntegerField(
                        blank=True, help_text="REQUIRED if Broilers", null=True
                    ),
                ),
                (
                    "planned_production_start_date",
                    models.DateField(
                        help_text="MANDATORY - When will commercial production begin"
                    ),
                ),
                ("hatchery_operation", models.BooleanField(default=False)),
                ("feed_formulation", models.BooleanField(default=False)),
                (
                    "initial_investment_amount",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Farmer's capital invested (MANDATORY)",
                        max_digits=12,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(10000000),
                        ],
                    ),
                ),
                (
                    "funding_source",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=50),
                        help_text="Multi-select: Personal Savings, Family, Loan, Grant, Other",
                        size=None,
                    ),
                ),
                (
                    "monthly_operating_budget",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Estimated monthly expenses (MANDATORY)",
                        max_digits=12,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(1000000),
                        ],
                    ),
                ),
                (
                    "expected_monthly_revenue",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Revenue projection (MANDATORY)",
                        max_digits=12,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(1000000),
                        ],
                    ),
                ),
                ("has_outstanding_debt", models.BooleanField(default=False)),
                (
                    "debt_amount",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Required if has_outstanding_debt = True",
                        max_digits=12,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(10000000),
                        ],
                    ),
                ),
                ("debt_purpose", models.CharField(blank=True, max_length=200)),
                (
                    "monthly_debt_payment",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=10,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100000),
                        ],
                    ),
                ),
                (
                    "application_status",
                    models.CharField(
                        choices=[
                            ("Draft", "Draft"),
                            ("Submitted", "Submitted - Pending Assignment"),
                            ("Constituency Review", "Under Constituency Review"),
                            ("Regional Review", "Under Regional Review"),
                            ("National Review", "Under National Review"),
                            ("Changes Requested", "Changes Requested by Reviewer"),
                            ("Approved", "Approved - Farm ID Assigned"),
                            ("Rejected", "Rejected"),
                        ],
                        db_index=True,
                        default="Draft",
                        max_length=30,
                    ),
                ),
                (
                    "farm_status",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("Active", "Active"),
                            ("Inactive", "Inactive"),
                            ("Suspended", "Suspended"),
                        ],
                        max_length=20,
                        null=True,
                    ),
                ),
                (
                    "current_review_level",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("constituency", "Constituency Level"),
                            ("regional", "Regional Level"),
                            ("national", "National Level"),
                        ],
                        help_text="Current stage in approval workflow",
                        max_length=20,
                        null=True,
                    ),
                ),
                (
                    "constituency_approved_at",
                    models.DateTimeField(blank=True, null=True),
                ),
                ("regional_approved_at", models.DateTimeField(blank=True, null=True)),
                ("final_approved_at", models.DateTimeField(blank=True, null=True)),
                ("rejected_at", models.DateTimeField(blank=True, null=True)),
                ("review_comments", models.TextField(blank=True)),
                ("site_visit_required", models.BooleanField(default=False)),
                ("site_visit_date", models.DateField(blank=True, null=True)),
                ("site_visit_notes", models.TextField(blank=True)),
                ("rejection_reason", models.TextField(blank=True)),
                ("more_info_requested", models.TextField(blank=True)),
                ("approval_date", models.DateTimeField(blank=True, null=True)),
                ("activation_date", models.DateTimeField(blank=True, null=True)),
                ("benefit_package_assigned", models.JSONField(blank=True, null=True)),
                (
                    "registration_source",
                    models.CharField(
                        choices=[
                            ("government_initiative", "YEA Government Initiative"),
                            ("self_registered", "Self-Registered/Independent"),
                            ("migrated", "Migrated from External System"),
                        ],
                        db_index=True,
                        default="self_registered",
                        help_text="How the farmer joined the platform",
                        max_length=30,
                    ),
                ),
                (
                    "yea_program_batch",
                    models.CharField(
                        blank=True,
                        help_text="YEA batch/cohort (e.g., 'YEA-2025-Q1')",
                        max_length=50,
                    ),
                ),
                (
                    "yea_program_start_date",
                    models.DateField(
                        blank=True,
                        help_text="When farmer joined government program",
                        null=True,
                    ),
                ),
                (
                    "yea_program_end_date",
                    models.DateField(
                        blank=True,
                        help_text="Expected program completion date",
                        null=True,
                    ),
                ),
                (
                    "government_support_package",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="\n        Details of government support received:\n        {\n            'day_old_chicks': 500,\n            'feed_bags': 100,\n            'training_sessions': 5,\n            'extension_visits': 12,\n            'subsidy_amount': 5000.00\n        }\n        ",
                    ),
                ),
                (
                    "established_since",
                    models.DateField(
                        blank=True,
                        help_text="For established farmers: when farm was originally established",
                        null=True,
                    ),
                ),
                (
                    "previous_management_system",
                    models.CharField(
                        blank=True,
                        help_text="Manual/Excel/Other system used before joining platform",
                        max_length=100,
                    ),
                ),
                (
                    "referral_source",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("search_engine", "Google/Search Engine"),
                            ("social_media", "Facebook/Instagram/Twitter"),
                            ("farmer_referral", "Referred by Another Farmer"),
                            ("industry_event", "Agricultural Fair/Conference"),
                            ("advertisement", "Advertisement"),
                            ("other", "Other"),
                        ],
                        help_text="How independent farmer heard about platform",
                        max_length=100,
                    ),
                ),
                (
                    "fast_track_eligible",
                    models.BooleanField(
                        default=False,
                        help_text="Eligible for simplified approval (established farmers with documentation)",
                    ),
                ),
                (
                    "fast_track_criteria_met",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="\n        Criteria for fast-track approval:\n        {\n            'business_registered': True,\n            'tin_verified': True,\n            'existing_operations': True,\n            'documentation_complete': True,\n            'references_provided': True\n        }\n        ",
                    ),
                ),
                (
                    "approval_workflow",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("full_government", "Full 3-Tier Government Review"),
                            ("simplified", "Simplified Verification"),
                            ("auto_approve", "Auto-Approve with Basic Checks"),
                        ],
                        help_text="Auto-set based on registration_source and fast_track_eligible",
                        max_length=30,
                    ),
                ),
                (
                    "subscription_type",
                    models.CharField(
                        choices=[
                            ("none", "No Subscription (Free Core Platform)"),
                            (
                                "government_subsidized",
                                "Government-Subsidized Marketplace (Free/Reduced)",
                            ),
                            (
                                "standard",
                                "Standard Marketplace Subscription (GHS 100/month)",
                            ),
                            ("premium", "Premium Subscription (Future)"),
                        ],
                        default="none",
                        help_text="Type of marketplace subscription",
                        max_length=30,
                    ),
                ),
                (
                    "marketplace_enabled",
                    models.BooleanField(
                        default=False,
                        help_text="Is marketplace access enabled (requires subscription)",
                    ),
                ),
                (
                    "product_images_count",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Current number of product images (max 20 with subscription)",
                    ),
                ),
                (
                    "government_subsidy_active",
                    models.BooleanField(
                        default=False,
                        help_text="Is farmer receiving government marketplace subscription subsidy",
                    ),
                ),
                (
                    "government_subsidy_start_date",
                    models.DateField(
                        blank=True,
                        help_text="When government marketplace subsidy started",
                        null=True,
                    ),
                ),
                (
                    "government_subsidy_end_date",
                    models.DateField(
                        blank=True,
                        help_text="When government marketplace subsidy expires",
                        null=True,
                    ),
                ),
                (
                    "farm_readiness_score",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Auto-calculated based on infrastructure checklist",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "biosecurity_score",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Count of biosecurity measures / total  100",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "capacity_utilization",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="(current_birds / total_capacity)  100",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "experience_level",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("Beginner", "Beginner (0-1 years)"),
                            ("Intermediate", "Intermediate (2-5 years)"),
                            ("Expert", "Expert (5+ years)"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "support_priority_score",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Based on needs, readiness, location",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "financial_health_score",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Revenue vs Expenses, Debt-to-Asset ratio",
                        max_digits=5,
                        null=True,
                    ),
                ),
                (
                    "total_investment_value",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Auto-calculated: infrastructure + equipment + initial capital",
                        max_digits=15,
                        null=True,
                    ),
                ),
                ("application_date", models.DateTimeField(auto_now_add=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_farms",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_extension_officer",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_farms_as_extension_officer",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_reviewer",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_farms_as_reviewer",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "extension_officer",
                    models.ForeignKey(
                        blank=True,
                        help_text="Extension officer assigned to farmer. REQUIRED for government farmers, OPTIONAL (but recommended) for independent farmers based on constituency.",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="supervised_farms",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="farm",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "farms",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Equipment",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                ("manual_feeders_count", models.PositiveIntegerField(default=0)),
                (
                    "manual_feeders_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("automatic_feeders_count", models.PositiveIntegerField(default=0)),
                (
                    "automatic_feeders_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("manual_drinkers_count", models.PositiveIntegerField(default=0)),
                (
                    "manual_drinkers_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("nipple_drinkers_count", models.PositiveIntegerField(default=0)),
                (
                    "nipple_drinkers_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("has_incubator", models.BooleanField(default=False)),
                ("incubator_capacity", models.PositiveIntegerField(default=0)),
                (
                    "incubator_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("has_generator", models.BooleanField(default=False)),
                (
                    "generator_capacity_kva",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=6,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "generator_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("feed_storage_capacity_kg", models.PositiveIntegerField(default=0)),
                (
                    "feed_storage_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("cold_storage_available", models.BooleanField(default=False)),
                (
                    "cold_storage_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("weighing_scale", models.BooleanField(default=False)),
                ("egg_tray_count", models.PositiveIntegerField(default=0)),
                ("cages_count", models.PositiveIntegerField(default=0)),
                (
                    "cages_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "farm",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="equipment",
                        to="farms.farm",
                    ),
                ),
            ],
            options={
                "db_table": "farm_equipment",
            },
        ),
        migrations.CreateModel(
            name="Biosecurity",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                ("perimeter_fencing", models.BooleanField(default=False)),
                ("fencing_type", models.CharField(blank=True, max_length=100)),
                ("controlled_entry_points", models.BooleanField(default=False)),
                ("visitor_log_maintained", models.BooleanField(default=False)),
                ("footbath_at_entry", models.BooleanField(default=False)),
                ("disinfectant_used", models.CharField(blank=True, max_length=100)),
                ("hand_washing_facilities", models.BooleanField(default=False)),
                ("dedicated_farm_clothing", models.BooleanField(default=False)),
                ("quarantine_area", models.BooleanField(default=False)),
                ("sick_bird_isolation", models.BooleanField(default=False)),
                ("regular_vaccination", models.BooleanField(default=False)),
                ("vaccination_records_kept", models.BooleanField(default=False)),
                (
                    "manure_management_system",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("Composting", "Composting"),
                            ("Biogas", "Biogas"),
                            ("Direct Sale", "Direct Sale"),
                            ("On-farm Use", "On-farm Use"),
                            ("No System", "No Formal System"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "dead_bird_disposal",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("Burial", "Burial"),
                            ("Incineration", "Incineration"),
                            ("Composting", "Composting"),
                            ("Other", "Other"),
                        ],
                        max_length=50,
                    ),
                ),
                ("rodent_control_program", models.BooleanField(default=False)),
                ("wild_bird_exclusion", models.BooleanField(default=False)),
                (
                    "biosecurity_score",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Count of measures / total  100",
                        max_digits=5,
                        null=True,
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "farm",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="biosecurity",
                        to="farms.farm",
                    ),
                ),
            ],
            options={
                "verbose_name_plural": "Biosecurity",
                "db_table": "farm_biosecurity",
            },
        ),
        migrations.AddField(
            model_name="batchenrollmentapplication",
            name="farm",
            field=models.ForeignKey(
                help_text="Existing farm applying to batch",
                on_delete=django.db.models.deletion.CASCADE,
                related_name="batch_applications",
                to="farms.farm",
            ),
        ),
        migrations.CreateModel(
            name="FarmApplication",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "application_number",
                    models.CharField(
                        editable=False,
                        help_text="Format: APP-YYYY-XXXXX",
                        max_length=20,
                        unique=True,
                    ),
                ),
                (
                    "application_type",
                    models.CharField(
                        choices=[
                            ("government_program", "YEA Government Program"),
                            ("independent", "Independent Farmer"),
                        ],
                        db_index=True,
                        help_text="Type of farmer application",
                        max_length=30,
                    ),
                ),
                ("first_name", models.CharField(max_length=100)),
                ("middle_name", models.CharField(blank=True, max_length=100)),
                ("last_name", models.CharField(max_length=100)),
                ("date_of_birth", models.DateField()),
                (
                    "gender",
                    models.CharField(
                        choices=[
                            ("Male", "Male"),
                            ("Female", "Female"),
                            ("Other", "Other"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "ghana_card_number",
                    models.CharField(
                        help_text="Format: GHA-XXXXXXXXX-X", max_length=20, unique=True
                    ),
                ),
                (
                    "primary_phone",
                    phonenumber_field.modelfields.PhoneNumberField(
                        max_length=128, region="GH"
                    ),
                ),
                (
                    "alternate_phone",
                    phonenumber_field.modelfields.PhoneNumberField(
                        blank=True, max_length=128, region="GH"
                    ),
                ),
                (
                    "email",
                    models.EmailField(
                        blank=True,
                        help_text="Optional - for notifications",
                        max_length=254,
                    ),
                ),
                ("residential_address", models.TextField()),
                (
                    "primary_constituency",
                    models.CharField(
                        db_index=True,
                        help_text="Constituency where farm will be located",
                        max_length=100,
                    ),
                ),
                ("region", models.CharField(blank=True, max_length=100)),
                ("district", models.CharField(blank=True, max_length=100)),
                ("proposed_farm_name", models.CharField(max_length=200)),
                (
                    "farm_location_description",
                    models.TextField(
                        help_text="Describe farm location (community, landmarks, etc.)"
                    ),
                ),
                (
                    "land_size_acres",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Approximate land size",
                        max_digits=8,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "primary_production_type",
                    models.CharField(
                        choices=[
                            ("Layers", "Layers (Egg Production)"),
                            ("Broilers", "Broilers (Meat Production)"),
                            ("Both", "Both Layers and Broilers"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "planned_bird_capacity",
                    models.PositiveIntegerField(
                        help_text="How many birds do you plan to raise?",
                        validators=[django.core.validators.MinValueValidator(1)],
                    ),
                ),
                (
                    "years_in_poultry",
                    models.DecimalField(
                        decimal_places=1,
                        help_text="Years of experience in poultry farming",
                        max_digits=4,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(50),
                        ],
                    ),
                ),
                (
                    "has_existing_farm",
                    models.BooleanField(
                        default=False,
                        help_text="Do you already have an operational farm?",
                    ),
                ),
                (
                    "yea_program_batch",
                    models.CharField(
                        blank=True,
                        help_text="YEA batch/cohort (if applicable)",
                        max_length=50,
                    ),
                ),
                (
                    "referral_source",
                    models.CharField(
                        blank=True,
                        help_text="How did you hear about this program?",
                        max_length=100,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("submitted", "Submitted - Awaiting Assignment"),
                            ("constituency_review", "Under Constituency Review"),
                            ("regional_review", "Under Regional Review"),
                            ("national_review", "Under National Review"),
                            ("changes_requested", "Changes Requested"),
                            ("approved", "Approved - Invitation Sent"),
                            ("rejected", "Rejected"),
                            ("account_created", "Account Created - Farm Active"),
                        ],
                        db_index=True,
                        default="submitted",
                        max_length=30,
                    ),
                ),
                (
                    "current_review_level",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("constituency", "Constituency Level"),
                            ("regional", "Regional Level"),
                            ("national", "National Level"),
                        ],
                        max_length=20,
                        null=True,
                    ),
                ),
                (
                    "constituency_approved_at",
                    models.DateTimeField(blank=True, null=True),
                ),
                ("regional_approved_at", models.DateTimeField(blank=True, null=True)),
                ("final_approved_at", models.DateTimeField(blank=True, null=True)),
                ("rejected_at", models.DateTimeField(blank=True, null=True)),
                ("rejection_reason", models.TextField(blank=True)),
                ("changes_requested", models.TextField(blank=True)),
                ("changes_deadline", models.DateTimeField(blank=True, null=True)),
                ("invitation_sent_at", models.DateTimeField(blank=True, null=True)),
                ("account_created_at", models.DateTimeField(blank=True, null=True)),
                ("farm_created_at", models.DateTimeField(blank=True, null=True)),
                ("email_verified", models.BooleanField(default=False)),
                ("email_verified_at", models.DateTimeField(blank=True, null=True)),
                ("phone_verified", models.BooleanField(default=False)),
                ("phone_verified_at", models.DateTimeField(blank=True, null=True)),
                (
                    "spam_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Automated spam score (0-100)",
                        max_digits=5,
                    ),
                ),
                (
                    "spam_flags",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=100),
                        blank=True,
                        default=list,
                        help_text="Spam indicators detected",
                        size=None,
                    ),
                ),
                ("ip_address", models.GenericIPAddressField(blank=True, null=True)),
                (
                    "priority_score",
                    models.IntegerField(default=0, help_text="Higher = reviewed first"),
                ),
                ("submitted_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "assigned_extension_officer",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_applications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "constituency_approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="constituency_approved_applications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "farm_profile",
                    models.OneToOneField(
                        blank=True,
                        help_text="Farm profile created from application",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="application",
                        to="farms.farm",
                    ),
                ),
                (
                    "final_approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="final_approved_applications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "regional_approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="regional_approved_applications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "rejected_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="rejected_applications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user_account",
                    models.OneToOneField(
                        blank=True,
                        help_text="User account created after approval",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="farm_application",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "farm_applications",
                "ordering": ["-priority_score", "-submitted_at"],
            },
        ),
        migrations.CreateModel(
            name="ApplicationReviewAction",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "review_level",
                    models.CharField(
                        choices=[
                            ("constituency", "Constituency Level"),
                            ("regional", "Regional Level"),
                            ("national", "National Level"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "action",
                    models.CharField(
                        choices=[
                            ("claimed", "Claimed for Review"),
                            ("approved", "Approved"),
                            ("rejected", "Rejected"),
                            ("request_changes", "Request Changes"),
                            ("changes_submitted", "Changes Submitted"),
                            ("note_added", "Note Added"),
                        ],
                        max_length=20,
                    ),
                ),
                ("notes", models.TextField()),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "reviewer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="application_reviews",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "application",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="review_actions",
                        to="farms.farmapplication",
                    ),
                ),
            ],
            options={
                "db_table": "application_review_actions",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="ApplicationQueue",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "review_level",
                    models.CharField(
                        choices=[
                            ("constituency", "Constituency Level"),
                            ("regional", "Regional Level"),
                            ("national", "National Level"),
                        ],
                        db_index=True,
                        max_length=20,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending Review"),
                            ("claimed", "Claimed by Officer"),
                            ("in_progress", "Under Review"),
                            ("completed", "Review Completed"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                    ),
                ),
                ("assigned_at", models.DateTimeField(blank=True, null=True)),
                ("auto_assigned", models.BooleanField(default=False)),
                ("priority", models.IntegerField(default=0)),
                ("entered_queue_at", models.DateTimeField(auto_now_add=True)),
                ("claimed_at", models.DateTimeField(blank=True, null=True)),
                ("completed_at", models.DateTimeField(blank=True, null=True)),
                ("sla_due_date", models.DateTimeField(blank=True, null=True)),
                ("is_overdue", models.BooleanField(db_index=True, default=False)),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_application_reviews",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "application",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="queue_items",
                        to="farms.farmapplication",
                    ),
                ),
            ],
            options={
                "db_table": "application_queue",
                "ordering": ["-priority", "entered_queue_at"],
            },
        ),
        migrations.CreateModel(
            name="FarmApprovalQueue",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "review_level",
                    models.CharField(
                        choices=[
                            ("constituency", "Constituency Level"),
                            ("regional", "Regional Level"),
                            ("national", "National Level"),
                        ],
                        db_index=True,
                        max_length=20,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending Review"),
                            ("claimed", "Claimed by Officer"),
                            ("in_progress", "Under Review"),
                            ("completed", "Review Completed"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                    ),
                ),
                ("assigned_at", models.DateTimeField(blank=True, null=True)),
                (
                    "auto_assigned",
                    models.BooleanField(
                        default=False,
                        help_text="True if auto-assigned based on GPS location",
                    ),
                ),
                (
                    "priority",
                    models.IntegerField(
                        default=0,
                        help_text="Higher number = higher priority. Default = 0",
                    ),
                ),
                (
                    "entered_queue_at",
                    models.DateTimeField(auto_now_add=True, db_index=True),
                ),
                ("claimed_at", models.DateTimeField(blank=True, null=True)),
                ("completed_at", models.DateTimeField(blank=True, null=True)),
                (
                    "sla_due_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="Service Level Agreement deadline",
                        null=True,
                    ),
                ),
                (
                    "is_overdue",
                    models.BooleanField(
                        db_index=True,
                        default=False,
                        help_text="Auto-calculated based on SLA",
                    ),
                ),
                (
                    "suggested_constituency",
                    models.CharField(
                        blank=True,
                        help_text="Auto-detected from farm GPS location",
                        max_length=100,
                    ),
                ),
                (
                    "suggested_region",
                    models.CharField(
                        blank=True,
                        help_text="Auto-detected from farm GPS location",
                        max_length=100,
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_farm_reviews",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "farm",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="approval_queue_items",
                        to="farms.farm",
                    ),
                ),
            ],
            options={
                "db_table": "farm_approval_queue",
                "ordering": ["-priority", "entered_queue_at"],
            },
        ),
        migrations.CreateModel(
            name="FarmDocument",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "document_type",
                    models.CharField(
                        choices=[
                            ("Ghana Card", "Ghana Card Photo"),
                            ("Passport Photo", "Passport Photo"),
                            (
                                "Farm Photo - Exterior",
                                "Farm Photo - Poultry House Exterior",
                            ),
                            (
                                "Farm Photo - Interior",
                                "Farm Photo - Poultry House Interior",
                            ),
                            ("Farm Photo - Layout", "Farm Photo - Overall Farm Layout"),
                            ("Farm Photo - Feeding", "Farm Photo - Feeding System"),
                            ("Farm Photo - Water", "Farm Photo - Water System"),
                            ("Farm Photo - Equipment", "Farm Photo - Equipment"),
                            ("Farm Photo - Storage", "Farm Photo - Storage Facilities"),
                            (
                                "Farm Photo - Biosecurity",
                                "Farm Photo - Biosecurity Measures",
                            ),
                            ("Title Deed", "Title Deed"),
                            ("Lease Agreement", "Lease Agreement"),
                            ("Chief Letter", "Letter from Chief/Family Head"),
                            ("Survey Plan", "Survey Plan"),
                            (
                                "Business Registration",
                                "Business Registration Certificate",
                            ),
                            ("Production Records", "Previous Production Records"),
                            ("Tax Clearance", "Tax Clearance Certificate"),
                            ("Other", "Other Document"),
                        ],
                        max_length=50,
                    ),
                ),
                ("file", models.FileField(upload_to="farm_documents/%Y/%m/")),
                ("file_name", models.CharField(max_length=255)),
                (
                    "file_size",
                    models.PositiveIntegerField(help_text="File size in bytes"),
                ),
                ("mime_type", models.CharField(max_length=100)),
                ("is_verified", models.BooleanField(default=False)),
                ("verified_at", models.DateTimeField(blank=True, null=True)),
                (
                    "exif_gps_latitude",
                    models.DecimalField(
                        blank=True, decimal_places=7, max_digits=10, null=True
                    ),
                ),
                (
                    "exif_gps_longitude",
                    models.DecimalField(
                        blank=True, decimal_places=7, max_digits=10, null=True
                    ),
                ),
                (
                    "gps_location_verified",
                    models.BooleanField(
                        default=False, help_text="EXIF GPS matches farm location"
                    ),
                ),
                ("notes", models.TextField(blank=True)),
                ("uploaded_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "farm",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="documents",
                        to="farms.farm",
                    ),
                ),
                (
                    "verified_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="verified_documents",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "farm_documents",
                "ordering": ["-uploaded_at"],
            },
        ),
        migrations.CreateModel(
            name="FarmInvitation",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "invitation_code",
                    models.CharField(
                        db_index=True,
                        help_text="Unique invitation code/token",
                        max_length=32,
                        unique=True,
                    ),
                ),
                (
                    "invitation_type",
                    models.CharField(
                        choices=[
                            ("government_farmer", "Government Initiative Farmer"),
                            ("independent_farmer", "Independent/Established Farmer"),
                            (
                                "general",
                                "General Invitation (Type determined during registration)",
                            ),
                        ],
                        default="general",
                        help_text="Type of farmer this invitation is for",
                        max_length=30,
                    ),
                ),
                (
                    "constituency",
                    models.CharField(
                        db_index=True,
                        help_text="Constituency this invitation is valid for",
                        max_length=100,
                    ),
                ),
                (
                    "recipient_email",
                    models.EmailField(
                        blank=True,
                        help_text="Pre-assigned email (optional)",
                        max_length=254,
                    ),
                ),
                (
                    "recipient_phone",
                    phonenumber_field.modelfields.PhoneNumberField(
                        blank=True,
                        help_text="Pre-assigned phone number (optional)",
                        max_length=128,
                        region="GH",
                    ),
                ),
                (
                    "recipient_name",
                    models.CharField(
                        blank=True,
                        help_text="Pre-assigned farmer name (optional)",
                        max_length=200,
                    ),
                ),
                (
                    "is_single_use",
                    models.BooleanField(
                        default=True,
                        help_text="True = one-time use, False = reusable (e.g., for workshops)",
                    ),
                ),
                (
                    "max_uses",
                    models.PositiveIntegerField(
                        default=1,
                        help_text="Maximum number of times this code can be used (for reusable codes)",
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(100),
                        ],
                    ),
                ),
                (
                    "current_uses",
                    models.PositiveIntegerField(
                        default=0, help_text="Number of times this code has been used"
                    ),
                ),
                (
                    "expires_at",
                    models.DateTimeField(
                        help_text="Expiration date/time for this invitation"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending - Not Yet Used"),
                            ("sent", "Sent via Email/SMS"),
                            ("accepted", "Accepted - Registration Completed"),
                            ("expired", "Expired"),
                            ("revoked", "Revoked by Officer"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                    ),
                ),
                ("sent_via_email", models.BooleanField(default=False)),
                ("email_sent_at", models.DateTimeField(blank=True, null=True)),
                ("sent_via_sms", models.BooleanField(default=False)),
                ("sms_sent_at", models.DateTimeField(blank=True, null=True)),
                ("accepted_at", models.DateTimeField(blank=True, null=True)),
                ("revoked_at", models.DateTimeField(blank=True, null=True)),
                ("revocation_reason", models.TextField(blank=True)),
                (
                    "notes",
                    models.TextField(
                        blank=True, help_text="Officer notes about this invitation"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "accepted_by_user",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who registered using this invitation",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="accepted_invitations",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "issued_by",
                    models.ForeignKey(
                        help_text="Constituency officer who issued the invitation",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="issued_invitations",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "farm_invitations",
                "ordering": ["-created_at"],
            },
        ),
        migrations.AddField(
            model_name="farmapplication",
            name="invitation",
            field=models.OneToOneField(
                blank=True,
                help_text="Invitation sent after approval",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_application",
                to="farms.farminvitation",
            ),
        ),
        migrations.CreateModel(
            name="FarmLocation",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "gps_address_string",
                    models.CharField(
                        help_text="From Ghana GPS app (e.g., AK-0123-4567)",
                        max_length=200,
                    ),
                ),
                (
                    "location",
                    django.contrib.gis.db.models.fields.PointField(
                        help_text="Auto-extracted from GPS address string", srid=4326
                    ),
                ),
                (
                    "latitude",
                    models.DecimalField(
                        decimal_places=7, editable=False, max_digits=10
                    ),
                ),
                (
                    "longitude",
                    models.DecimalField(
                        decimal_places=7, editable=False, max_digits=10
                    ),
                ),
                ("region", models.CharField(max_length=100)),
                ("district", models.CharField(max_length=100)),
                ("constituency", models.CharField(max_length=100)),
                ("community", models.CharField(max_length=200)),
                ("nearest_landmark", models.CharField(blank=True, max_length=200)),
                (
                    "distance_from_main_road_km",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=5,
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "road_accessibility",
                    models.CharField(
                        choices=[
                            ("All Year", "Accessible All Year"),
                            ("Dry Season Only", "Dry Season Only"),
                            ("Limited", "Limited Access"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "land_size_acres",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=8,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "land_ownership_status",
                    models.CharField(
                        choices=[
                            ("Owned", "Owned"),
                            ("Leased", "Leased"),
                            ("Family Land", "Family Land"),
                            ("Government Allocation", "Government Allocation"),
                        ],
                        max_length=50,
                    ),
                ),
                ("lease_expiry_date", models.DateField(blank=True, null=True)),
                ("is_primary_location", models.BooleanField(default=False)),
                (
                    "gps_verified",
                    models.BooleanField(
                        default=False, help_text="GPS within Ghana boundaries verified"
                    ),
                ),
                (
                    "constituency_match_verified",
                    models.BooleanField(
                        default=False,
                        help_text="Stated constituency matches GPS location",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "farm",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="locations",
                        to="farms.farm",
                    ),
                ),
            ],
            options={
                "db_table": "farm_locations",
                "ordering": ["-is_primary_location", "created_at"],
            },
        ),
        migrations.CreateModel(
            name="FarmNotification",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "notification_type",
                    models.CharField(
                        choices=[
                            ("application_submitted", "Application Submitted"),
                            ("review_started", "Review Started"),
                            ("changes_requested", "Changes Requested"),
                            (
                                "approved_next_level",
                                "Approved - Forwarded to Next Level",
                            ),
                            ("final_approval", "Final Approval - Farm ID Assigned"),
                            ("rejected", "Application Rejected"),
                            ("reminder", "Reminder/Alert"),
                            ("assignment", "Review Assignment"),
                        ],
                        db_index=True,
                        max_length=30,
                    ),
                ),
                (
                    "channel",
                    models.CharField(
                        choices=[
                            ("email", "Email"),
                            ("sms", "SMS"),
                            ("in_app", "In-App Notification"),
                        ],
                        db_index=True,
                        max_length=10,
                    ),
                ),
                ("subject", models.CharField(max_length=200)),
                ("message", models.TextField()),
                (
                    "action_url",
                    models.URLField(
                        blank=True,
                        help_text="URL for 'View Details' button in notification",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("sent", "Sent"),
                            ("delivered", "Delivered"),
                            ("failed", "Failed"),
                            ("read", "Read (In-App only)"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=15,
                    ),
                ),
                ("sent_at", models.DateTimeField(blank=True, null=True)),
                ("delivered_at", models.DateTimeField(blank=True, null=True)),
                ("read_at", models.DateTimeField(blank=True, null=True)),
                ("failed_at", models.DateTimeField(blank=True, null=True)),
                ("failure_reason", models.TextField(blank=True)),
                (
                    "sms_provider",
                    models.CharField(
                        blank=True, help_text="Hubtel, Arkesel, etc.", max_length=50
                    ),
                ),
                (
                    "sms_message_id",
                    models.CharField(
                        blank=True,
                        help_text="Provider's message ID for tracking",
                        max_length=100,
                    ),
                ),
                (
                    "sms_cost",
                    models.DecimalField(
                        blank=True,
                        decimal_places=4,
                        help_text="Cost in GHS",
                        max_digits=6,
                        null=True,
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                (
                    "farm",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="notifications",
                        to="farms.farm",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="farm_notifications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "farm_notifications",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="FarmReviewAction",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "review_level",
                    models.CharField(
                        choices=[
                            ("constituency", "Constituency Level"),
                            ("regional", "Regional Level"),
                            ("national", "National Level"),
                        ],
                        db_index=True,
                        max_length=20,
                    ),
                ),
                (
                    "action",
                    models.CharField(
                        choices=[
                            ("claimed", "Claimed for Review"),
                            ("approved", "Approved"),
                            ("rejected", "Rejected"),
                            ("request_changes", "Request Changes"),
                            ("changes_submitted", "Changes Submitted"),
                            ("reassigned", "Reassigned to Another Officer"),
                            ("note_added", "Internal Note Added"),
                        ],
                        db_index=True,
                        max_length=20,
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        help_text="Reviewer comments, feedback, or reasons"
                    ),
                ),
                (
                    "is_internal_note",
                    models.BooleanField(
                        default=False, help_text="If True, farmer cannot see this note"
                    ),
                ),
                (
                    "requested_changes",
                    models.JSONField(
                        blank=True,
                        help_text="List of specific fields/documents that need changes",
                        null=True,
                    ),
                ),
                (
                    "changes_deadline",
                    models.DateField(
                        blank=True,
                        help_text="Deadline for farmer to submit changes",
                        null=True,
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                (
                    "farm",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="review_actions",
                        to="farms.farm",
                    ),
                ),
                (
                    "reassigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="reassigned_farm_reviews",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "reviewer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="farm_reviews",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "farm_review_actions",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="PoultryHouse",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                ("house_number", models.CharField(max_length=50)),
                (
                    "house_type",
                    models.CharField(
                        choices=[
                            ("Deep Litter", "Deep Litter"),
                            ("Battery Cage", "Battery Cage"),
                            ("Free Range Shelter", "Free Range Shelter"),
                            ("Brooder House", "Brooder House"),
                            ("Layer House", "Layer House"),
                            ("Grower House", "Grower House"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "house_capacity",
                    models.PositiveIntegerField(
                        validators=[django.core.validators.MinValueValidator(1)]
                    ),
                ),
                ("current_occupancy", models.PositiveIntegerField(default=0)),
                (
                    "length_meters",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=6,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "width_meters",
                    models.DecimalField(
                        decimal_places=2,
                        max_digits=6,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "height_meters",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=5,
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "construction_material",
                    models.CharField(
                        help_text="e.g., Concrete blocks, Wood, Bamboo", max_length=100
                    ),
                ),
                (
                    "roofing_material",
                    models.CharField(
                        help_text="e.g., Aluminum sheets, Thatch", max_length=100
                    ),
                ),
                ("flooring_type", models.CharField(max_length=100)),
                (
                    "year_built",
                    models.PositiveIntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(1900),
                            django.core.validators.MaxValueValidator(2100),
                        ]
                    ),
                ),
                (
                    "ventilation_system",
                    models.CharField(
                        choices=[
                            ("Natural", "Natural"),
                            ("Mechanical (Fans)", "Mechanical (Fans)"),
                            ("Both", "Both Natural and Mechanical"),
                        ],
                        max_length=50,
                    ),
                ),
                ("number_of_fans", models.PositiveIntegerField(default=0)),
                (
                    "estimated_house_value_ghs",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="For investment tracking",
                        max_digits=12,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "farm",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="poultry_houses",
                        to="farms.farm",
                    ),
                ),
            ],
            options={
                "db_table": "poultry_houses",
                "ordering": ["house_number"],
            },
        ),
        migrations.CreateModel(
            name="RegistrationApproval",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                ("farm_name", models.CharField(max_length=200)),
                (
                    "primary_constituency",
                    models.CharField(
                        db_index=True,
                        help_text="Constituency where farm is located",
                        max_length=100,
                    ),
                ),
                ("ghana_card_number", models.CharField(max_length=20, unique=True)),
                (
                    "phone_number",
                    phonenumber_field.modelfields.PhoneNumberField(
                        max_length=128, region="GH"
                    ),
                ),
                ("email", models.EmailField(blank=True, max_length=254)),
                ("email_verified", models.BooleanField(default=False)),
                ("email_verified_at", models.DateTimeField(blank=True, null=True)),
                ("phone_verified", models.BooleanField(default=False)),
                ("phone_verified_at", models.DateTimeField(blank=True, null=True)),
                (
                    "spam_score",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Automated spam detection score (0-100, higher = more likely spam)",
                        max_digits=5,
                    ),
                ),
                (
                    "spam_flags",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=100),
                        blank=True,
                        default=list,
                        help_text="List of spam indicators detected",
                        size=None,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending Officer Review"),
                            ("approved", "Approved by Officer"),
                            ("rejected", "Rejected by Officer"),
                            ("flagged_spam", "Flagged as Spam/Bot"),
                        ],
                        db_index=True,
                        default="pending",
                        max_length=20,
                    ),
                ),
                ("reviewed_at", models.DateTimeField(blank=True, null=True)),
                ("review_notes", models.TextField(blank=True)),
                ("rejection_reason", models.TextField(blank=True)),
                (
                    "priority",
                    models.IntegerField(
                        default=0,
                        help_text="Higher number = higher priority (verified applicants get higher priority)",
                    ),
                ),
                ("submitted_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        help_text="Officer assigned to review this registration",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_registrations",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "reviewed_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Officer who approved/rejected this registration",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="reviewed_registrations",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        help_text="User awaiting registration approval",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="registration_approval",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "registration_approvals",
                "ordering": ["-priority", "submitted_at"],
            },
        ),
        migrations.CreateModel(
            name="RegistrationRateLimit",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                ("ip_address", models.GenericIPAddressField(db_index=True)),
                ("registration_attempts", models.PositiveIntegerField(default=0)),
                ("last_attempt_at", models.DateTimeField(auto_now=True)),
                ("is_blocked", models.BooleanField(default=False)),
                ("blocked_at", models.DateTimeField(blank=True, null=True)),
                ("blocked_until", models.DateTimeField(blank=True, null=True)),
                ("block_reason", models.TextField(blank=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
            ],
            options={
                "db_table": "registration_rate_limits",
                "indexes": [
                    models.Index(
                        fields=["ip_address", "is_blocked"],
                        name="registratio_ip_addr_8a55a3_idx",
                    )
                ],
            },
        ),
        migrations.CreateModel(
            name="SupportNeeds",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                ("assessment_date", models.DateField(auto_now_add=True)),
                (
                    "assessment_type",
                    models.CharField(
                        choices=[
                            ("Initial", "Initial (At Registration)"),
                            ("Quarterly", "Quarterly Review"),
                            ("Bi-annual", "Bi-annual Review"),
                            ("Ad-hoc", "Ad-hoc (Farmer Requested)"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "technical_support_needed",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=100),
                        blank=True,
                        default=list,
                        help_text="Disease management, Feeding, Housing, etc.",
                        size=None,
                    ),
                ),
                (
                    "financial_support_needed",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=100),
                        blank=True,
                        default=list,
                        help_text="Working capital, Equipment financing, etc.",
                        size=None,
                    ),
                ),
                ("market_access_support", models.BooleanField(default=False)),
                ("input_supply_support", models.BooleanField(default=False)),
                (
                    "overall_priority",
                    models.CharField(
                        choices=[
                            ("Critical", "Critical"),
                            ("High", "High"),
                            ("Medium", "Medium"),
                            ("Low", "Low"),
                        ],
                        default="Medium",
                        max_length=20,
                    ),
                ),
                (
                    "major_challenges",
                    models.TextField(
                        blank=True, help_text="Open-ended challenges", max_length=1000
                    ),
                ),
                (
                    "specific_equipment_needs",
                    models.TextField(
                        blank=True,
                        help_text="What equipment is lacking",
                        max_length=500,
                    ),
                ),
                (
                    "training_interests",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=100),
                        blank=True,
                        default=list,
                        help_text="Disease Management, Feed Formulation, Record Keeping, etc.",
                        size=None,
                    ),
                ),
                ("support_provided", models.TextField(blank=True)),
                ("effectiveness_notes", models.TextField(blank=True)),
                ("next_assessment_due", models.DateField(blank=True, null=True)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "farm",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="support_needs",
                        to="farms.farm",
                    ),
                ),
            ],
            options={
                "verbose_name_plural": "Support Needs",
                "db_table": "support_needs",
                "ordering": ["-assessment_date"],
            },
        ),
        migrations.CreateModel(
            name="Utilities",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "water_source",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(max_length=50),
                        help_text="Multi-select: Borehole, Well, Pipe-borne, River/Stream, Rainwater",
                        size=None,
                    ),
                ),
                (
                    "water_availability",
                    models.CharField(
                        choices=[
                            ("Year-round", "Year-round"),
                            ("Seasonal", "Seasonal"),
                            ("Unreliable", "Unreliable"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "water_storage_capacity_liters",
                    models.PositiveIntegerField(default=0),
                ),
                (
                    "electricity_source",
                    models.CharField(
                        choices=[
                            ("National Grid", "National Grid"),
                            ("Solar", "Solar"),
                            ("Generator", "Generator Only"),
                            ("Hybrid", "Hybrid (Grid + Solar/Generator)"),
                            ("None", "No Electricity"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "electricity_reliability",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("Stable", "Stable"),
                            ("Frequent Outages", "Frequent Outages"),
                            ("Unreliable", "Unreliable"),
                        ],
                        max_length=50,
                    ),
                ),
                ("solar_panel_installed", models.BooleanField(default=False)),
                ("solar_capacity_watts", models.PositiveIntegerField(default=0)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "farm",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="utilities",
                        to="farms.farm",
                    ),
                ),
            ],
            options={
                "verbose_name_plural": "Utilities",
                "db_table": "farm_utilities",
            },
        ),
        migrations.CreateModel(
            name="VerificationToken",
            fields=[
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "token_type",
                    models.CharField(
                        choices=[
                            ("email", "Email Verification"),
                            ("phone", "Phone/SMS Verification"),
                        ],
                        max_length=10,
                    ),
                ),
                (
                    "token",
                    models.CharField(
                        help_text="6-digit verification code", max_length=10
                    ),
                ),
                (
                    "target_value",
                    models.CharField(
                        help_text="Email address or phone number being verified",
                        max_length=100,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending Verification"),
                            ("verified", "Verified"),
                            ("expired", "Expired"),
                        ],
                        default="pending",
                        max_length=20,
                    ),
                ),
                ("verified_at", models.DateTimeField(blank=True, null=True)),
                ("expires_at", models.DateTimeField()),
                (
                    "verification_attempts",
                    models.PositiveIntegerField(
                        default=0, help_text="Number of failed verification attempts"
                    ),
                ),
                ("max_attempts", models.PositiveIntegerField(default=5)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="verification_tokens",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "verification_tokens",
                "ordering": ["-created_at"],
            },
        ),
        migrations.AddIndex(
            model_name="batch",
            index=models.Index(
                fields=["status", "application_deadline"],
                name="farms_batch_status_c225c6_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="batch",
            index=models.Index(
                fields=["batch_code"], name="farms_batch_batch_c_664eb5_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="batchenrollmentqueue",
            index=models.Index(
                fields=["status", "priority"], name="farms_batch_status_1d1488_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="batchenrollmentqueue",
            index=models.Index(
                fields=["review_level", "sla_deadline"],
                name="farms_batch_review__2c519c_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="batchenrollmentqueue",
            index=models.Index(
                fields=["assigned_to", "status"], name="farms_batch_assigne_68377c_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="batchenrollmentqueue",
            unique_together={("application", "review_level")},
        ),
        migrations.AddIndex(
            model_name="batchenrollmentreview",
            index=models.Index(
                fields=["application", "timestamp"],
                name="farms_batch_applica_a5490e_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["application_id"], name="farms_applica_f5b543_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(fields=["farm_id"], name="farms_farm_id_32570c_idx"),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["ghana_card_number"], name="farms_ghana_c_367b23_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(fields=["tin"], name="farms_tin_aa234d_idx"),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["application_status"], name="farms_applica_51d68c_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(fields=["farm_status"], name="farms_farm_st_1f0262_idx"),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["registration_source"], name="farms_registr_5a5f7f_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["approval_workflow"], name="farms_approva_dec5e6_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["subscription_type"], name="farms_subscri_71b28b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["marketplace_enabled"], name="farms_marketp_a1c9ce_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["extension_officer"], name="farms_extensi_394ae3_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["fast_track_eligible"], name="farms_fast_tr_e036d5_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["primary_constituency"], name="farms_primary_db3efb_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farm",
            index=models.Index(
                fields=["registration_source", "primary_constituency"],
                name="farms_registr_55dbbe_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="batchenrollmentapplication",
            index=models.Index(
                fields=["status", "priority_score"],
                name="farms_batch_status_8e2e03_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="batchenrollmentapplication",
            index=models.Index(
                fields=["batch", "status"], name="farms_batch_batch_i_bf2a99_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="batchenrollmentapplication",
            index=models.Index(
                fields=["applicant", "status"], name="farms_batch_applica_19079d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="batchenrollmentapplication",
            index=models.Index(
                fields=["current_review_level", "submitted_at"],
                name="farms_batch_current_dd5f2e_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="batchenrollmentapplication",
            unique_together={("farm", "batch")},
        ),
        migrations.AddIndex(
            model_name="applicationreviewaction",
            index=models.Index(
                fields=["application", "review_level"],
                name="application_applica_80175c_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="applicationreviewaction",
            index=models.Index(
                fields=["reviewer", "created_at"], name="application_reviewe_a12235_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="applicationqueue",
            index=models.Index(
                fields=["review_level", "status"], name="application_review__94efcb_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="applicationqueue",
            index=models.Index(
                fields=["assigned_to", "status"], name="application_assigne_9892c9_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="applicationqueue",
            index=models.Index(
                fields=["is_overdue", "sla_due_date"],
                name="application_is_over_1f291c_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="applicationqueue",
            unique_together={("application", "review_level")},
        ),
        migrations.AddIndex(
            model_name="farmapprovalqueue",
            index=models.Index(
                fields=["review_level", "status"], name="farm_approv_review__dd5fcf_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmapprovalqueue",
            index=models.Index(
                fields=["assigned_to", "status"], name="farm_approv_assigne_23fefe_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmapprovalqueue",
            index=models.Index(
                fields=["is_overdue", "sla_due_date"],
                name="farm_approv_is_over_f96aea_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="farmapprovalqueue",
            index=models.Index(
                fields=["suggested_constituency"], name="farm_approv_suggest_f800e8_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="farmapprovalqueue",
            unique_together={("farm", "review_level")},
        ),
        migrations.AddIndex(
            model_name="farminvitation",
            index=models.Index(
                fields=["invitation_code"], name="farm_invita_invitat_e89b5e_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farminvitation",
            index=models.Index(
                fields=["status", "expires_at"], name="farm_invita_status_d0e795_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farminvitation",
            index=models.Index(
                fields=["issued_by", "status"], name="farm_invita_issued__a326bc_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farminvitation",
            index=models.Index(
                fields=["constituency", "status"], name="farm_invita_constit_e5e68a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farminvitation",
            index=models.Index(
                fields=["recipient_email"], name="farm_invita_recipie_211b78_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farminvitation",
            index=models.Index(
                fields=["recipient_phone"], name="farm_invita_recipie_224b00_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmapplication",
            index=models.Index(
                fields=["application_number"], name="farm_applic_applica_2539e0_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmapplication",
            index=models.Index(
                fields=["ghana_card_number"], name="farm_applic_ghana_c_b9a007_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmapplication",
            index=models.Index(
                fields=["primary_phone"], name="farm_applic_primary_6723d4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmapplication",
            index=models.Index(
                fields=["status", "current_review_level"],
                name="farm_applic_status_8aaee4_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="farmapplication",
            index=models.Index(
                fields=["application_type", "status"],
                name="farm_applic_applica_2d3ecd_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="farmapplication",
            index=models.Index(
                fields=["primary_constituency", "status"],
                name="farm_applic_primary_be8b1c_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="farmapplication",
            index=models.Index(
                fields=["-priority_score", "-submitted_at"],
                name="farm_applic_priorit_0ab30a_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="farmlocation",
            unique_together={("farm", "gps_address_string")},
        ),
        migrations.AddIndex(
            model_name="farmnotification",
            index=models.Index(
                fields=["user", "status"], name="farm_notifi_user_id_e009c9_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmnotification",
            index=models.Index(
                fields=["notification_type", "created_at"],
                name="farm_notifi_notific_b75e86_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="farmnotification",
            index=models.Index(
                fields=["channel", "status"], name="farm_notifi_channel_7fe019_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmreviewaction",
            index=models.Index(
                fields=["farm", "review_level"], name="farm_review_farm_id_295274_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmreviewaction",
            index=models.Index(
                fields=["reviewer", "created_at"], name="farm_review_reviewe_5927bd_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="farmreviewaction",
            index=models.Index(
                fields=["action", "created_at"], name="farm_review_action_55d0b2_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="poultryhouse",
            unique_together={("farm", "house_number")},
        ),
        migrations.AddIndex(
            model_name="registrationapproval",
            index=models.Index(
                fields=["status", "primary_constituency"],
                name="registratio_status_472cd3_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="registrationapproval",
            index=models.Index(
                fields=["assigned_to", "status"], name="registratio_assigne_c0f730_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="registrationapproval",
            index=models.Index(
                fields=["spam_score"], name="registratio_spam_sc_46b2f6_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="registrationapproval",
            index=models.Index(
                fields=["-priority", "submitted_at"],
                name="registratio_priorit_9c4880_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="verificationtoken",
            index=models.Index(
                fields=["user", "token_type", "status"],
                name="verificatio_user_id_7b9ed8_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="verificationtoken",
            index=models.Index(fields=["token"], name="verificatio_token_c488e1_idx"),
        ),
    ]
